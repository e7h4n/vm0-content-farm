name: Scheduled Content Generation
on:
  schedule:
    # Run every day at 9:00 AM UTC
    - cron: '0 9 * * *'
  workflow_dispatch:  # Allow manual trigger
    inputs:
      topic:
        description: 'Topic for the article'
        required: false
        default: 'latest AI and technology news'

jobs:
  generate:
    runs-on: ubuntu-latest
    steps:
      - name: Run Content Farm Agent
        uses: vm0-ai/run-action@v1
        with:
          agent: content-farm
          prompt: "Write an article about ${{ github.event.inputs.topic || 'latest AI and technology news' }}"
          artifact-name: content-farm-daily
          vm0-token: ${{ secrets.VM0_TOKEN }}
